## 1. Issue種別 (Issue Type)

* [x] 新規機能 (New Feature)

## 2. 優先度 (Priority)

* [x] 高 (High)

## 3. タイトル (Title)

Web UIタイムライン表示コンポーネントの実装

## 4. 問題の概要 (Problem Overview)

Web UIの中核機能として、シミュレーションのターン進行をリアルタイムで表示するタイムラインコンポーネントを実装する必要がある。各ターンのキャラクター情報、思考、行動、発言を視覚的に分かりやすく表示し、ユーザーがシミュレーションの流れを直感的に把握できるようにする。

## 5. 発見バージョン/関連機能 (Version/Related Feature)

* **バージョン**: 現在の開発版
* **関連する詳細仕様書セクション**: Web UI実装方針 - タイムライン表示
* **関連するタスクリスト番号**: 新規Web UI開発

## 6. 発生条件 / 再現手順 (Conditions / Steps to Reproduce)

N/A (新規機能)

## 7. 期待される動作 (Expected Behavior)

* シミュレーションのターン情報がリアルタイムで表示されること
* 各ターンでキャラクター名、思考、行動、発言が視覚的に区別されて表示されること
* 新しいターンが追加された際にスムーズにアニメーションすること
* 長いコンテンツでもスクロール可能で使いやすいこと
* 処理中のターンが視覚的に分かること

## 8. 実際の動作 / 現在の状況 (Actual Behavior / Current Situation)

現在はタイムライン表示機能が存在しない

---

### 9. 原因調査 / 分析 (Cause Analysis by AI Assistant: Cursor)

* **調査した箇所**:
    * `src/project_anima/interactive_cli.py` - 現在のターン表示方法
    * `src/project_anima/core/data_models.py` - ターンデータ構造
    * Web UI設計要件
* **特定された原因 (仮説を含む)**:
    * タイムライン表示コンポーネントが存在しない
    * ターンデータの表示形式が定義されていない
    * リアルタイム更新の仕組みが実装されていない

### 10. 提案される解決策 / 改善案 (Proposed Solution / Improvement by AI Assistant: Cursor)

* **基本的な方針**:
    * Reactコンポーネントでモダンなタイムライン表示を実装
    * WebSocket通信でリアルタイム更新を実現
    * アニメーションとトランジションで優れたUXを提供
    * レスポンシブデザインで様々な画面サイズに対応
* **具体的な変更点**:
    * タイムラインコンポーネントの実装
    * ターンアイテムコンポーネントの実装
    * リアルタイム更新ロジックの実装
    * アニメーション効果の実装

### 11. 実装計画 / タスク分割 (Implementation Plan / Sub-tasks by AI Assistant: Cursor)

1. **[ ] タイムラインコンテナコンポーネントの実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/Timeline.tsx`
   * **具体的な変更内容**: タイムライン全体を管理するメインコンポーネント

2. **[ ] ターンアイテムコンポーネントの実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/TurnItem.tsx`
   * **具体的な変更内容**: 個別のターン情報を表示するコンポーネント

3. **[ ] キャラクター情報表示コンポーネントの実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/CharacterInfo.tsx`
   * **具体的な変更内容**: キャラクター名とアバターを表示

4. **[ ] 思考・行動・発言表示コンポーネントの実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/ActionDisplay.tsx`
   * **具体的な変更内容**: 思考、行動、発言を視覚的に区別して表示

5. **[ ] ローディング状態表示コンポーネントの実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/LoadingTurn.tsx`
   * **具体的な変更内容**: 処理中のターンを表示

6. **[ ] タイムライン用カスタムフックの実装**
   * **変更対象ファイル**: `web/frontend/src/hooks/useTimeline.ts`
   * **具体的な変更内容**: タイムライン状態管理とリアルタイム更新

7. **[ ] アニメーション効果の実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/animations.ts`
   * **具体的な変更内容**: ターン追加時のスムーズなアニメーション

8. **[ ] タイムライン用CSS/Tailwindスタイルの実装**
   * **変更対象ファイル**: `web/frontend/src/components/Timeline/Timeline.module.css`
   * **具体的な変更内容**: タイムライン専用のスタイル定義

### 12. テスト計画 (Test Plan by AI Assistant: Cursor)

* **ユニットテスト**:
    * 各タイムラインコンポーネントのレンダリングテスト
    * カスタムフックの動作テスト
    * アニメーション効果のテスト
* **結合テスト/手動テスト**:
    * タイムライン全体の表示確認
    * リアルタイム更新の動作確認
    * レスポンシブデザインの確認
    * 長時間のシミュレーションでのパフォーマンス確認

---

## 13. 完了の定義 (Definition of Done)

* [ ] タイムラインコンテナコンポーネントが実装されている
* [ ] ターンアイテムコンポーネントが実装されている
* [ ] キャラクター情報表示コンポーネントが実装されている
* [ ] 思考・行動・発言表示コンポーネントが実装されている
* [ ] ローディング状態表示コンポーネントが実装されている
* [ ] タイムライン用カスタムフックが実装されている
* [ ] アニメーション効果が実装されている
* [ ] レスポンシブデザインに対応している
* [ ] WebSocket通信でリアルタイム更新が動作する
* [ ] 長いコンテンツでもスクロールが正常に動作する
* [ ] 基本的なテストが実装され、成功する
* [ ] アクセシビリティに配慮されている

## 14. 備考 (Notes)

* キャラクターアバターは初期段階では文字ベースで実装
* アニメーション効果はパフォーマンスを考慮して実装
* 将来的にはターンの詳細表示機能も追加予定
* ダークモード対応も考慮した色彩設計とする 