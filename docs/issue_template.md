## 1. Issue種別 (Issue Type)

* [ ] バグ修正 (Bug Fix)
* [ ] 機能改善 (Enhancement)
* [ ] 新規機能 (New Feature)
* [ ] リファクタリング (Refactoring)
* [ ] ドキュメント (Documentation)
* [ ] その他 (Other: {{specify}})

## 2. 優先度 (Priority)

* [ ] 高 (High)
* [ ] 中 (Medium)
* [ ] 低 (Low)

## 3. タイトル (Title)

* (問題や改善内容を簡潔に記述)

## 4. 問題の概要 (Problem Overview)

* (どのような問題が発生しているか、あるいはどのような改善をしたいのかを具体的に記述)

## 5. 発見バージョン/関連機能 (Version/Related Feature)

* **バージョン**: (問題が確認されたバージョン、または改善対象の機能が導入されたバージョン)
* **関連する詳細仕様書セクション**: (該当する場合)
* **関連するタスクリスト番号**: (該当する場合)

## 6. 発生条件 / 再現手順 (Conditions / Steps to Reproduce)

**(バグの場合、または特定の条件下での改善の場合に記述)**

1.  (手順1)
2.  (手順2)
3.  (手順3)
4.  ...

## 7. 期待される動作 (Expected Behavior)

* (本来あるべき動作、または改善後の理想的な状態を記述)

## 8. 実際の動作 / 現在の状況 (Actual Behavior / Current Situation)

* (実際に発生している問題、または改善前の現在の状況を記述。スクリーンショットやログがあれば添付)

---

### 9. 原因調査 / 分析 (Cause Analysis by AI Assistant: Cursor)

**(ここからはAIアシスタントであるCursorが調査・分析した内容を記述する)**

* **調査した箇所**:
    * (例: `core/simulation_engine.py` の `next_turn` メソッド)
    * (例: キャラクターAliceの長期情報YAMLファイル)
* **特定された原因 (仮説を含む)**:
    * (問題の原因と思われる箇所やロジックを具体的に記述)
* **関連するログ/エラーメッセージ**:
    ```
    (関連するログやエラーメッセージを貼り付け)
    ```

### 10. 提案される解決策 / 改善案 (Proposed Solution / Improvement by AI Assistant: Cursor)

* **基本的な方針**:
    * (どのようなアプローチで問題を解決するか、または改善を行うかの概要)
* **具体的な変更点**:
    * (コードのどの部分をどのように変更するか、新しいロジックの概要など)
* **代替案 (あれば)**:
    * (他の解決策やアプローチがあれば記述し、なぜ提案する解決策が最善と考えるかを説明)

### 11. 実装計画 / タスク分割 (Implementation Plan / Sub-tasks by AI Assistant: Cursor)

1.  **[ ] サブタスク1**: (例: `core/character_manager.py` の `load_character_data` 関数の修正)
    * **変更対象ファイル**: `{{file_path}}`
    * **変更対象クラス/関数**: `{{ClassName.method_name or function_name}}`
    * **具体的な変更内容**: (修正するコードの概要)
2.  **[ ] サブタスク2**: (例: 新しいユニットテストケースの追加)
    * **変更対象ファイル**: `tests/test_character_manager.py`
    * **具体的な変更内容**: (追加するテストケースの概要)
3.  **[ ] ...**

### 12. テスト計画 (Test Plan by AI Assistant: Cursor)

* **ユニットテスト**:
    * (追加/修正するユニットテストの概要)
* **結合テスト/手動テスト**:
    * (修正内容を確認するために行う具体的なテスト手順)
    * (期待される結果)

---

## 13. 完了の定義 (Definition of Done)

* [ ] 上記「提案される解決策/改善案」が実装されている。
* [ ] 上記「実装計画/タスク分割」の全てのサブタスクが完了している。
* [ ] 上記「テスト計画」に記載された全てのテストが成功する。
* [ ] コードがリファクタリングされ、可読性が維持/向上している (該当する場合)。
* [ ] Pythonの型ヒントが付与されている。
* [ ] docstringと適切なコメントが記述されている。
* [ ] (自己レビュー) コードに明らかなバグや非効率な箇所がない。
* [ ] (美希様によるレビュー) 修正内容と実装が承認される。

## 14. 備考 (Notes)

* (その他、特記事項、懸念点、参考情報などがあれば記述)
